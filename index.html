<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LexiQuest Kids - Ultimate Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #080808; color: #fff; font-family: 'Tajawal', sans-serif; touch-action: manipulation; }
        .linear-card { background: #111; border: 1px solid rgba(255,255,255,0.08); border-radius: 32px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .option-btn { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 18px; font-weight: bold; font-size: 1.1rem; transition: all 0.2s; }
        .option-btn:active { transform: scale(0.95); background: rgba(255,255,255,0.15); }
        .correct { background: #10b981 !important; color: white !important; border-color: #059669 !important; }
        .wrong { background: #ef4444 !important; color: white !important; border-color: #dc2626 !important; }
        .image-frame { width: 100%; height: 240px; border-radius: 24px; background: #1a1a1a; overflow: hidden; position: relative; border: 2px solid rgba(255,255,255,0.05); }
        .image-frame img { width: 100%; height: 100%; object-fit: cover; transition: opacity 0.5s; }
    </style>
</head>
<body>

    <div id="app" class="max-w-md mx-auto min-h-screen p-4 flex flex-col justify-center">
        </div>

    <div id="celebration" class="fixed inset-0 bg-black/95 z-50 hidden flex-col items-center justify-center text-center p-6">
        <div class="text-9xl mb-6 animate-bounce">ğŸŒŸ</div>
        <h2 class="text-4xl font-bold mb-4 text-yellow-400">Ø¨Ø·Ù„ Ù…Ø°Ù‡Ù„!</h2>
        <p class="text-xl text-white mb-8">Ù„Ù‚Ø¯ Ø£Ø¬Ø¨Øª Ø¹Ù„Ù‰ 5 ÙƒÙ„Ù…Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­!</p>
        <button onclick="closeCelebration()" class="bg-blue-600 text-white px-12 py-4 rounded-full font-bold text-xl shadow-xl">Ø§Ù„Ø¹Ø¨ Ø§Ù„Ù…Ø²ÙŠØ¯</button>
    </div>

    <script>
        // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¶Ø®Ù…Ø©
        const wordBank = [
            // Ø­ÙŠÙˆØ§Ù†Ø§Øª
            {en: "Lion", ar: "Ø£Ø³Ø¯"}, {en: "Tiger", ar: "Ù†Ù…Ø±"}, {en: "Elephant", ar: "ÙÙŠÙ„"}, {en: "Giraffe", ar: "Ø²Ø±Ø§ÙØ©"}, {en: "Monkey", ar: "Ù‚Ø±Ø¯"}, {en: "Rabbit", ar: "Ø£Ø±Ù†Ø¨"}, {en: "Cat", ar: "Ù‚Ø·Ø©"}, {en: "Dog", ar: "ÙƒÙ„Ø¨"}, {en: "Horse", ar: "Ø­ØµØ§Ù†"}, {en: "Camel", ar: "Ø¬Ù…Ù„"},
            // ÙÙˆØ§ÙƒÙ‡ ÙˆØ®Ø¶Ø±ÙˆØ§Øª
            {en: "Apple", ar: "ØªÙØ§Ø­Ø©"}, {en: "Banana", ar: "Ù…ÙˆØ²"}, {en: "Orange", ar: "Ø¨Ø±ØªÙ‚Ø§Ù„"}, {en: "Strawberry", ar: "ÙØ±Ø§ÙˆÙ„Ø©"}, {en: "Grapes", ar: "Ø¹Ù†Ø¨"}, {en: "Carrot", ar: "Ø¬Ø²Ø±Ø©"}, {en: "Tomato", ar: "Ø·Ù…Ø§Ø·Ù…"}, {en: "Potato", ar: "Ø¨Ø·Ø§Ø·Ø³"}, {en: "Corn", ar: "Ø°Ø±Ø©"}, {en: "Watermelon", ar: "Ø¨Ø·ÙŠØ®"},
            // Ù…ÙˆØ§ØµÙ„Ø§Øª
            {en: "Car", ar: "Ø³ÙŠØ§Ø±Ø©"}, {en: "Airplane", ar: "Ø·Ø§Ø¦Ø±Ø©"}, {en: "Train", ar: "Ù‚Ø·Ø§Ø±"}, {en: "Ship", ar: "Ø³ÙÙŠÙ†Ø©"}, {en: "Bus", ar: "Ø­Ø§ÙÙ„Ø©"}, {en: "Rocket", ar: "ØµØ§Ø±ÙˆØ®"}, {en: "Bicycle", ar: "Ø¯Ø±Ø§Ø¬Ø©"}, {en: "Helicopter", ar: "Ù…Ø±ÙˆØ­ÙŠØ©"},
            // Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø¬Ø³Ù…
            {en: "Eye", ar: "Ø¹ÙŠÙ†"}, {en: "Ear", ar: "Ø£Ø°Ù†"}, {en: "Hand", ar: "ÙŠØ¯"}, {en: "Foot", ar: "Ù‚Ø¯Ù…"}, {en: "Nose", ar: "Ø£Ù†Ù"}, {en: "Mouth", ar: "ÙÙ…"}, {en: "Hair", ar: "Ø´Ø¹Ø±"}, {en: "Heart", ar: "Ù‚Ù„Ø¨"},
            // Ø¯ÙˆÙ„ ÙˆÙØ¶Ø§Ø¡
            {en: "Oman", ar: "Ø¹Ù…Ø§Ù†"}, {en: "Egypt", ar: "Ù…ØµØ±"}, {en: "Earth", ar: "Ø§Ù„Ø£Ø±Ø¶"}, {en: "Moon", ar: "Ù‚Ù…Ø±"}, {en: "Sun", ar: "Ø´Ù…Ø³"}, {en: "Galaxy", ar: "Ù…Ø¬Ø±Ø©"}, {en: "Stars", ar: "Ù†Ø¬ÙˆÙ…"},
            // Ø£Ø±Ù‚Ø§Ù… (Ø£Ù…Ø«Ù„Ø© ÙˆØ³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¨Ø§Ù‚ÙŠ)
            {en: "Ten", ar: "Ø¹Ø´Ø±Ø©"}, {en: "Twenty", ar: "Ø¹Ø´Ø±ÙˆÙ†"}, {en: "Fifty", ar: "Ø®Ù…Ø³ÙˆÙ†"}, {en: "One Hundred", ar: "Ù…Ø¦Ø©"}
        ];

        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ Ø­ØªÙ‰ 100
        for(let i=1; i<=100; i++) {
            if (i !== 10 && i !== 20 && i !== 50 && i !== 100) {
                wordBank.push({en: String(i), ar: "Ø§Ù„Ø±Ù‚Ù… " + i});
            }
        }

        let currentWord = null;
        let score = 0;
        let streak = 0;

        function speak(text, lang) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            msg.lang = lang === 'en' ? 'en-US' : 'ar-SA';
            msg.rate = 0.85;
            window.speechSynthesis.speak(msg);
        }

        function playSuccessSound() {
            // Ù†Ø·Ù‚ ØªØ´Ø¬ÙŠØ¹ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ÙÙˆØ²
            speak("Amazing job, Champion!", "en");
        }

        function renderHome() {
            document.getElementById('app').innerHTML = `
                <div class="linear-card p-10 text-center">
                    <div class="text-6xl mb-6">ğŸ¦ğŸğŸš€</div>
                    <h1 class="text-3xl font-bold mb-4 uppercase tracking-tighter">LexiQuest Game</h1>
                    <button onclick="nextRound()" class="w-full bg-white text-black py-5 rounded-2xl font-bold text-2xl shadow-lg">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
                    <p class="mt-6 text-gray-500 text-sm">Ø£ÙƒØ«Ø± Ù…Ù† 500 ÙƒÙ„Ù…Ø© Ø¨Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„ØµÙˆØª</p>
                </div>
            `;
        }

        function nextRound() {
            currentWord = wordBank[Math.floor(Math.random() * wordBank.length)];
            const choices = generateChoices(currentWord.en);
            
            // Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø­Ø³Ù†
            const imageUrl = `https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&q=80`; // ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            const dynamicImg = `https://source.unsplash.com/400x300/?${currentWord.en}`;

            document.getElementById('app').innerHTML = `
                <div class="linear-card p-5">
                    <div class="flex justify-between items-center mb-4 px-2">
                        <span class="text-orange-500 font-bold font-mono">STREAK: ${streak}</span>
                        <span class="text-blue-400 font-bold font-mono">SCORE: ${score}</span>
                    </div>

                    <div class="image-frame mb-5">
                        <img src="${dynamicImg}" alt="${currentWord.en}" onerror="this.src='https://loremflickr.com/400/300/${currentWord.en}'">
                    </div>

                    <div class="flex gap-3 mb-6">
                        <button onclick="speak(currentWord.en, 'en')" class="flex-1 bg-white/5 border border-white/10 py-3 rounded-xl flex items-center justify-center gap-2">
                            ğŸ‡ºğŸ‡¸ English
                        </button>
                        <button onclick="speak(currentWord.ar, 'ar')" class="flex-1 bg-white/5 border border-white/10 py-3 rounded-xl flex items-center justify-center gap-2">
                            ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                        </button>
                    </div>

                    <div class="grid grid-cols-2 gap-3">
                        ${choices.map(c => `<button onclick="check(this, '${c}')" class="option-btn">${c}</button>`).join('')}
                    </div>

                    <button onclick="speak(currentWord.en, 'en')" class="w-full mt-6 text-xs text-gray-500 uppercase tracking-widest">Ø¥Ø¹Ø§Ø¯Ø© Ø³Ù…Ø§Ø¹ Ø§Ù„ÙƒÙ„Ù…Ø© ğŸ”„</button>
                </div>
            `;
            setTimeout(() => speak(currentWord.en, 'en'), 500);
        }

        function generateChoices(correct) {
            let c = [correct];
            while(c.length < 4) {
                let r = wordBank[Math.floor(Math.random() * wordBank.length)].en;
                if(!c.includes(r)) c.push(r);
            }
            return c.sort(() => 0.5 - Math.random());
        }

        function check(btn, choice) {
            if(choice === currentWord.en) {
                btn.classList.add('correct');
                score += 10;
                streak++;
                if(streak === 5) {
                    playSuccessSound();
                    setTimeout(showCelebration, 500);
                } else {
                    setTimeout(nextRound, 1000);
                }
            } else {
                btn.classList.add('wrong');
                streak = 0;
                const btns = document.querySelectorAll('.option-btn');
                btns.forEach(b => { if(b.innerText === currentWord.en) b.classList.add('correct'); });
                setTimeout(nextRound, 2000);
            }
        }

        function showCelebration() { document.getElementById('celebration').style.display = 'flex'; }
        function closeCelebration() { 
            streak = 0;
            document.getElementById('celebration').style.display = 'none'; 
            nextRound(); 
        }

        renderHome();
    </script>
</body>
</html>
